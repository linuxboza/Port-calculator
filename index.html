<!DOCTYPE html>
<html lang="ro">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Advanced Box & Port Calculator PRO+</title>
<style>
body{font-family:Arial;background:#111;color:#fff;margin:0;padding:20px}
.container{max-width:700px;margin:auto;background:#1c1c1c;padding:20px;border-radius:10px}
h2{margin-top:25px;border-bottom:1px solid #333;padding-bottom:5px}
input,select,button{width:100%;padding:8px;margin:5px 0;background:#222;color:#fff;border:none;border-radius:5px}
button{background:#00c853;font-weight:bold;cursor:pointer}
.result{background:#000;padding:15px;margin-top:15px;border-radius:8px;font-size:16px}
</style>
</head>
<body>

<div class="container">
<h1>BOX + PORT CALCULATOR PRO+</h1>

<h2>Parametri Difuzor</h2>
<input type="number" id="fs" placeholder="Fs (Hz)">
<input type="number" id="vas" placeholder="Vas (litri)">
<input type="number" id="qts" placeholder="Qts">
<input type="number" id="xmax" placeholder="Xmax (mm)">
<input type="number" id="rms" placeholder="Putere RMS (W)">

<h2>Setări Incintă</h2>
<input type="number" id="vb" placeholder="Volum dorit (litri)">
<input type="number" id="fb" placeholder="Frecvență acord (Hz)">
<input type="number" id="height" placeholder="Înălțime externă (cm)">
<input type="number" id="width" placeholder="Lățime externă (cm)">
<input type="number" id="thickness" placeholder="Grosime material (mm)">

<h2>Tip Port</h2>
<select id="portType">
<option value="round">Rotund</option>
<option value="slot">Slot</option>
</select>

<input type="number" id="diameter" placeholder="Diametru port (cm) - pentru rotund">
<input type="number" id="slotHeight" placeholder="Înălțime slot (cm) - pentru slot">

<button onclick="calculate()">CALCULEAZĂ</button>

<div class="result" id="result"></div>

</div>

<script>
function calculate(){

let fs=parseFloat(document.getElementById("fs").value);
let vas=parseFloat(document.getElementById("vas").value);
let qts=parseFloat(document.getElementById("qts").value);
let vb=parseFloat(document.getElementById("vb").value);
let fb=parseFloat(document.getElementById("fb").value);
let height=parseFloat(document.getElementById("height").value);
let width=parseFloat(document.getElementById("width").value);
let thickness=parseFloat(document.getElementById("thickness").value)/10; // mm to cm
let portType=document.getElementById("portType").value;
let diameter=parseFloat(document.getElementById("diameter").value);
let slotHeight=parseFloat(document.getElementById("slotHeight").value);

if(!vb||!fb||!height||!width){alert("Completează datele!");return;}

let internalH=height-(2*thickness);
let internalW=width-(2*thickness);

let depth=(vb*1000)/(internalH*internalW);
let externalDepth=depth+(2*thickness);

let S,Deq;

if(portType=="round"){
if(!diameter){alert("Introdu diametrul!");return;}
S=Math.PI*Math.pow(diameter/2,2);
}else{
if(!slotHeight){alert("Introdu înălțimea slotului!");return;}
S=slotHeight*internalW;
}

Deq=Math.sqrt((4*S)/Math.PI);

let portLength=((23562.5*Math.pow(Deq,2))/(Math.pow(fb,2)*vb))-(0.85*Deq);

let recommendedV=vas*Math.pow(qts,2.87);

document.getElementById("result").innerHTML=
"<b>Volum recomandat (aprox):</b> "+recommendedV.toFixed(1)+" L<br><br>"+
"<b>Adâncime internă:</b> "+depth.toFixed(2)+" cm<br>"+
"<b>Adâncime externă:</b> "+externalDepth.toFixed(2)+" cm<br><br>"+
"<b>Lungime port:</b> "+portLength.toFixed(2)+" cm<br>"+
"<b>Diametru echivalent:</b> "+Deq.toFixed(2)+" cm";
}
</script>

</body>
</html>