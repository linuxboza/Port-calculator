<!DOCTYPE html>
<html lang="ro">
<head>
<meta charset="UTF-8">
<title>Configurator Incintă Audio Pro</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.128/examples/js/controls/OrbitControls.js"></script>

<style>
body{
    margin:0;
    font-family: 'Segoe UI', sans-serif;
    background: linear-gradient(135deg,#0f2027,#203a43,#2c5364);
    color:white;
    display:flex;
}
#ui{
    width:350px;
    padding:25px;
    background:rgba(0,0,0,0.5);
    backdrop-filter:blur(10px);
}
input{
    width:100%;
    padding:8px;
    margin:5px 0 15px 0;
    border:none;
    border-radius:5px;
}
button{
    width:100%;
    padding:10px;
    background:#00c6ff;
    border:none;
    border-radius:5px;
    font-weight:bold;
    cursor:pointer;
}
#output{
    margin-top:20px;
    font-size:14px;
}
canvas{
    flex:1;
}
</style>
</head>
<body>

<div id="ui">
<h2>Configurator Incintă 3D</h2>

<label>Lățime (cm)</label>
<input id="width" type="number" value="50">

<label>Înălțime (cm)</label>
<input id="height" type="number" value="40">

<label>Volum dorit (litri)</label>
<input id="volume" type="number" value="100">

<label>Volum difuzor (litri)</label>
<input id="speakerVol" type="number" value="2">

<label>Volum port slot (litri)</label>
<input id="portVol" type="number" value="5">

<button onclick="calculate()">Calculează</button>

<div id="output"></div>
</div>

<script>

let scene = new THREE.Scene();
let camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
let renderer = new THREE.WebGLRenderer({antialias:true});
renderer.setSize(window.innerWidth-350, window.innerHeight);
document.body.appendChild(renderer.domElement);

let controls = new THREE.OrbitControls(camera, renderer.domElement);
camera.position.z = 200;

let box;

let light = new THREE.PointLight(0xffffff,1);
light.position.set(100,100,100);
scene.add(light);

function calculate(){

    let width = parseFloat(document.getElementById("width").value);
    let height = parseFloat(document.getElementById("height").value);
    let volumeLiters = parseFloat(document.getElementById("volume").value);
    let speakerVol = parseFloat(document.getElementById("speakerVol").value);
    let portVol = parseFloat(document.getElementById("portVol").value);

    let netVolumeLiters = volumeLiters + speakerVol + portVol;

    let netVolumeCm3 = netVolumeLiters * 1000;

    let depth = netVolumeCm3 / (width * height);

    document.getElementById("output").innerHTML =
    `
    Adâncime calculată: <b>${depth.toFixed(2)} cm</b><br>
    Volum brut: ${netVolumeLiters.toFixed(2)} L<br>
    Volum net final: ${volumeLiters} L
    `;

    if(box) scene.remove(box);

    let geometry = new THREE.BoxGeometry(width, height, depth);
    let material = new THREE.MeshStandardMaterial({color:0x00c6ff, metalness:0.3, roughness:0.4});
    box = new THREE.Mesh(geometry, material);
    scene.add(box);
}

function animate(){
    requestAnimationFrame(animate);
    renderer.render(scene,camera);
}
animate();

calculate();

</script>

</body>
</html>
